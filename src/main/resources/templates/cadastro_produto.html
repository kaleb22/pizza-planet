<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Cadastro</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="Wish shop project">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" th:href="@{/css/bootstrap.min.css}">
    <link th:href="@{/css/font-awesome.min.css}" rel="stylesheet" type="text/css">
    <link rel="stylesheet" type="text/css" th:href="@{/css/contact.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/css/cadastro.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/css/contact_responsive.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/css/owl.carousel.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/css/owl.theme.default.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/css/animate.css}">
    <link th:href="@{/css/colorbox.css}" rel="stylesheet" type="text/css}">
    <link th:href="@{/css/login.css}" rel="stylesheet" type="text/css}">
    <link rel="stylesheet" type="text/css" th:href="@{/css/main_styles.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/css/responsive.css}">
</head>
<body>

    <div class="super_container">

        <!-- Header -->

        <header class="header">
            <div class="header_inner d-flex flex-row align-items-center justify-content-start">
                <div class="logo"><a href="#">Pizza Planet</a></div>
                <nav class="main_nav">
                    <ul>
                        <li><a th:href="@{/index}">home</a></li>
                        <li><a th:href="@{/cardapio}">cardápio</a></li>
                        <li id="cadastroPizza" style="display: none;"><a th:href="@{/cadastro_produto}">cadastrar pizza</a></li>
                        <li id="login"><a th:href="@{/login}">login</a></li>
                        <li>
                            <p th:text="${session.welcome_username}">
                        </li>
                        <li id="sairLink" style="display: none;">
                            <form action="/logof" method="post" name="logof">
                                <button class="sair" type="submit">Sair</button>
                            </form>
                        </li>
                        <input id="user" type="hidden" th:value="${session.welcome_username}">
                        <input id="role" type="hidden" th:value="${session.role}">
                    </ul>
                </nav>
                <div class="burger_container d-flex flex-column align-items-center justify-content-around menu_mm">
                    <div></div>
                    <div></div>
                    <div></div>
                </div>
            </div>
        </header>

        <!-- Menu -->

        <div class="menu d-flex flex-column align-items-end justify-content-start text-right menu_mm trans_400">
            <div class="menu_close_container">
                <div class="menu_close">
                    <div></div>
                    <div></div>
                </div>
            </div>
            <div class="logo menu_mm"><a href="#">Pizza Planet</a></div>
            <div class="search">
                <form action="#">
                    <input type="search" class="search_input menu_mm" required="required">
                    <button type="submit" id="search_button_menu" class="search_button menu_mm">
                        <img class="menu_mm"  th:href="@{/images/magnifying-glass.svg}" alt=""></button>
                </form>
            </div>
            <nav class="menu_nav">
                <ul class="menu_mm">
                    <li><a th:href="@{/index}">home</a></li>
                    <li><a th:href="@{/cardapio}">cardápio</a></li>
                    <li id="cadastroPizzaB" style="display: none;"><a th:href="@{/cadastro_produto}">cadastrar pizza</a></li>
                    <li id="loginB"><a th:href="@{/login}">login</a></li>
                    <li><p th:text="${session.welcome_username}"></li>
                    <li id="sairLinkB" style="display: none;">
                        <form action="/logof" method="post" name="logof">
                            <button class="sair" type="submit">Sair</button>
                        </form>
                    </li>
                </ul>
            </nav>
        </div>

        <!-- Home -->

        <div class="home">
            <div class="home_background parallax-window" data-parallax="scroll" data-image-src="images/contact.jpg"
                 data-speed="0.8"></div>
            <div class="container">
                <div class="row">
                    <div class="col">
                        <div class="home_container">
                            <div class="home_content">
                                <div class="home_title">Cadastro de produtos</div>
                                <div class="breadcrumbs">
                                    <ul>
                                        <li><a href="/index">Home</a></li>
                                        <li>Cadastro de produtos</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Contact Form -->

            <div class="contact">
                <div class="container">
                    <div class="row">
                        <div class="col">
                            <div class="review_form_container">
                                <div class="review_form_title">CADASTRE OS PRODUTOS</div>
                                <div class="review_form_content">
                                    <form action="/cadastrarProduto" id="review_form" class="review_form"  method="post">
                                        <div class="d-flex flex-md-row flex-column align-items-start justify-content-between">
                                            <input type="text" class="review_form_input" placeholder="Nome" name="nome" required="required">
                                            <div class="div_checkbox">
                                                <h4>Escolha os ingredientes</h4>
                                                <div class="checkbox">
                                                    <label>
                                                        <input type="checkbox" name="options[]" value="Tomate">
                                                        <span class="cr"><i class="cr-icon glyphicon glyphicon-ok"></i></span>
                                                        Tomate
                                                    </label>
                                                </div>
                                                <div class="checkbox">
                                                    <label>
                                                        <input type="checkbox" name="options[]" value="Mussarela">
                                                        <span class="cr"><i class="cr-icon glyphicon glyphicon-ok"></i></span>
                                                        Mussarela
                                                    </label>
                                                </div>
                                                <div class="checkbox">
                                                    <label>
                                                        <input type="checkbox" name="options[]" value="Bacon">
                                                        <span class="cr"><i class="cr-icon glyphicon glyphicon-ok"></i></span>
                                                        Bacon
                                                    </label>
                                                </div>
                                                <div class="checkbox">
                                                    <label>
                                                        <input type="checkbox" name="options[]" value="Lombo">
                                                        <span class="cr"><i class="cr-icon glyphicon glyphicon-ok"></i></span>
                                                        Lombo
                                                    </label>
                                                </div>
                                            </div>
                                            <input type="hidden" class="review_form_input" placeholder="Descricao" name="descricao" id="descricao" required="required">
                                            <input type="text" data-prefix="R$ " class="review_form_input dinheiro" placeholder="Valor" id="valor" name="valor" required="required">
                                        </div>
                                        <button id="myBtn" class="review_form_button">cadastrar</button>
                                    </form>
                                    <p style="font-style: italic; color: green; text-align: center;" th:text="${sucesso}"></p>
                                    <p style="font-style: italic; color: red; text-align: center;" th:text="${falha}"></p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script th:href="@{/js/jquery-3.2.1.min.js}"></script>
    <script th:href="@{/js/popper.js}"></script>
    <script th:href="@{/js/bootstrap.min.js}"></script>
    <script th:href="@{/js/easing.js}"></script>
    <script th:href="@{/js/parallax.min.js}"></script>
    <script th:href="@{/js/contact_custom.js}"></script>
    <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
    <script src="https://code.jquery.com/ui/1.10.4/jquery-ui.js"></script>
    <script type='text/javascript' src="https://rawgit.com/RobinHerbots/jquery.inputmask/3.x/dist/jquery.inputmask.bundle.js"></script>
    <script th:src="@{/js/owl.carousel.js}"></script>
    <script th:src="@{/js/parallax.min.js}"></script>
    <script th:src="@{/js/jquery.colorbox-min.js}"></script>
    <script th:src="@{/js/custom.js}"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery-maskmoney/3.0.2/jquery.maskMoney.min.js" ></script>


</body>

<script>

$(document).ready(function(){

      $("input.dinheiro").maskMoney({showSymbol:true, symbol:"R$", decimal:",", thousands:"."});

        var user = $('#user').val();
        var role = $('#role').val();
        if(user != ""){
            $('#login').css("display", "none");
            $('#loginB').css("display", "none");
            $('#sairLink').css("display", "inline-block");
            $('#sairLinkB').css("display", "inline-block");
            if(role == 0){
                $('#cadastroPizza').css("display", "inline-block");
                $('#cadastroPizzaB').css("display", "inline-block");
            }
        }

});


document.getElementById("myBtn").addEventListener("click", getElementsFromCheckbox);

function getElementsFromCheckbox() {


    var num = $('#valor').maskMoney('unmasked')[0];
    $('#valor').val(num);

    calculate();

    document.getElementById("review_form").submit();
}

function calculate() {

    var checked = []
    $("input[name='options[]']:checked").each(function ()
    {
        checked.push($(this).val());
    });

    $('#descricao').val(checked);
}



</script>


</html>